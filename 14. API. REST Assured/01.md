
# 9. Интерфейс RequestSpecification

**RequestSpecification** - интерфейс, содержащий методы для   .

Методы класса **RequestSpecification**:

[io/restassured : RequestSpecification](https://www.javadoc.io/static/io.rest-assured/rest-assured/5.2.0/io/restassured/specification/RequestSpecification.html)

Далее рассмотрим основные методы.

## 9.1. Синтаксический сахар

| Тип                  | Метод     | Описание             |
|----------------------|-----------|----------------------|
| RequestSpecification | given()   | Синтаксический сахар |
| RequestSpecification | with()    | Синтаксический сахар |
| RequestSpecification | when()    | Синтаксический сахар |
| RequestSpecification | that()    | Синтаксический сахар |
| RequestSpecification | and()     | Синтаксический сахар |
| RequestSpecification | request() | Синтаксический сахар |

### 9.1.1. Given

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.given().accept(ContentType.JSON);
request.given().queryParam("name","Rick Sanchez");

Response response = request.request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

### 9.1.2. With

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.with().accept(ContentType.JSON);
request.with().queryParam("name","Rick Sanchez");

Response response = request.request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

### 9.1.3. When

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.queryParam("name","Rick Sanchez");

Response response = request.when().request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

### 9.1.4. That


*Пример*

```java
RequestSpecification request = RestAssured.given();
request.that().accept(ContentType.JSON);
request.that().queryParam("name","Rick Sanchez");

Response response = request.request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

### 9.1.5. And

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON).and().queryParam("name","Rick Sanchez");

Response response = request.request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

## 9.2. Спецификация ответа

| Тип                   | Метод      | Описание            |
|-----------------------|------------|---------------------|
| ResponseSpecification | then()     | Спецификация ответа |
| ResponseSpecification | expect()   | Спецификация ответа |
| ResponseSpecification | response() | Спецификация ответа |

### 9.2.1. Then

*Пример*

```java
RequestSpecification rqstSpec = RestAssured.given();
rqstSpec.accept(ContentType.JSON);
rqstSpec.queryParam("name","Rick Sanchez");

ResponseSpecification rspsSpec = rqstSpec.then();
rspsSpec.statusCode(200);
rspsSpec.request().request("GET","/character");
```

### 9.2.2. Expect

*Пример*

```java
RequestSpecification rqstSpec = RestAssured.given();
rqstSpec.accept(ContentType.JSON);
rqstSpec.queryParam("name","Rick Sanchez");

ResponseSpecification rspsSpec = rqstSpec.expect();
rspsSpec.statusCode(200);
rspsSpec.request().request("GET","/character");
```

### 9.2.3. Response

```java
RequestSpecification rqstSpec = RestAssured.given();
rqstSpec.accept(ContentType.JSON);
rqstSpec.queryParam("name","Rick Sanchez");

ResponseSpecification rspsSpec = rqstSpec.then();
rspsSpec.statusCode(200);
rspsSpec.request().request("GET","/character");
```

## 9.3. Логирование запроса

| Тип                     | Метод | Описание               |
|-------------------------|-------|------------------------|
| RequestLogSpecification | log() | Параметры лога запроса |

*Пример*

```java
RequestSpecification rqstSpec = RestAssured.given();
rqstSpec.accept(ContentType.JSON);
rqstSpec.queryParam("name","Rick Sanchez")
      .log().method()
      .log().params();

ResponseSpecification rspsSpec = rqstSpec.response();
rspsSpec.statusCode(200);
rspsSpec.request().request("GET","/character");
```

## 9.4. Конфигурация запроса

| Тип                   | Метод                            | Описание                                                                                                     |
|-----------------------|----------------------------------|--------------------------------------------------------------------------------------------------------------|
| RequestSpecification  | port(int port)                   | Specify the port of the URI.                                                                                 |
| RequestSpecification  | basePath(String basePath)        | Set the basePath property of the RequestSpecification instead of using static field RestAssured.basePath.    |
| RequestSpecification  | baseUri(String baseUri)          | Adding the baseUri Property from the RequestSpecification instead of using static field RestAssured.baseURI. |
| RequestSpecification  | config(RestAssuredConfig config) | Define a REST Assured configuration.                                                                         |
| RequestSpecification  | spec(RequestSpecification spec)  | Add request data from a pre-defined specification.                                                           |
| RedirectSpecification | redirects()                      | Specify the redirect configuration for this request.                                                         |

*Пример*

```java
RequestSpecification rqstSpec = RestAssured.given();
rqstSpec.baseUri("https://rickandmortyapi.com/api/");
rqstSpec.basePath("character");
rqstSpec.accept(ContentType.JSON);
rqstSpec.queryParam("name","Rick Sanchez")
      .log().method()
      .log().params()
      .log().uri();

ResponseSpecification rspsSpec = rqstSpec.response();
rspsSpec.statusCode(200);
rspsSpec.request().request("GET");
```

## 9.5. Заголовки запроса

| Тип                  | Метод                                                                                    | Описание                                                                |
|----------------------|------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
| RequestSpecification | header(Header header)                                                                    | Specify a Header to send with the request.                              | 
| RequestSpecification | header(String headerName, Object headerValue, Object... additionalHeaderValues)          | Specify a header that'll be sent with the request e.g:                  | 
| RequestSpecification | headers(Headers headers)                                                                 | Specify the headers that'll be sent with the request as Headers, e.g:   | 
| RequestSpecification | headers(Map<String,?> headers)                                                           | Specify the headers that'll be sent with the request as Map e.g:        | 
| RequestSpecification | headers(String firstHeaderName, Object firstHeaderValue, Object... headerNameValuePairs) | Specify the headers that'll be sent with the request.                   | 
| RequestSpecification | accept(ContentType contentType)                                                          | Specify the accept header of the request.                               | 
| RequestSpecification | accept(String mediaTypes)                                                                | Specify the accept header of the request.                               |
| RequestSpecification | contentType(ContentType contentType)                                                     | Specify the content type of the request.                                | 
| RequestSpecification | contentType(String contentType)                                                          | Specify the content type of the request.                                | 
| RequestSpecification | noContentType()                                                                          | Instructs rest assured to don't include a content-type in the request   | 


*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.contentType(ContentType.JSON);
request.cookie("cookie");
request.header("header", "value");
request.formParam("param", "value");
request.pathParam("method", "character");
request.param("name","Rick Sanchez");

Response response = request.request("GET","{method}");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.contentType(ContentType.JSON);
request.pathParam("method", "character");
request.param("name","Rick Sanchez");

Response response = request.request("GET","{method}");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.queryParam("name","Rick Sanchez");

Response response = request.request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

## 9.6. Параметры запроса

| Тип                  | Метод                                                                                            | Описание                                                                |
|----------------------|--------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
| RequestSpecification | param(String parameterName, Collection<?> parameterValues)                                       | Specify a multi-value parameter that'll be sent with the request e.g:   | 
| RequestSpecification | param(String parameterName, Object... parameterValues)                                           | Specify a parameter that'll be sent with the request e.g:               | 
| RequestSpecification | params(Map<String,?> parametersMap)                                                              | Specify the parameters that'll be sent with the request as Map e.g:     | 
| RequestSpecification | params(String firstParameterName, Object firstParameterValue, Object... parameterNameValuePairs) | Specify the parameters that'll be sent with the request.                | 

*Пример*

```java

```

## 9.7. Параметры пути запроса

| Тип                  | Метод                                                                                                | Описание                                          |
|----------------------|------------------------------------------------------------------------------------------------------|---------------------------------------------------|
| RequestSpecification | pathParam(String parameterName, Object parameterValue)                                               | Specify a path parameter.                         | 
| RequestSpecification | pathParams(Map<String,?> parameterNameValuePairs)                                                    | Specify multiple path parameter name-value pairs. | 
| RequestSpecification | pathParams(String firstParameterName, Object firstParameterValue, Object... parameterNameValuePairs) | Specify multiple path parameter name-value pairs. | 

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.pathParam("method", "character");
request.queryParam("name","Rick Sanchez");

Response response = request.request("GET","{method}");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

## 9.8. Параметры строки запроса

| Тип                  | Метод                                                                                                 | Описание                                                                     |
|----------------------|-------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| RequestSpecification | queryParam(String parameterName, Collection<?> parameterValues)                                       | Specify a multi-value query parameter that'll be sent with the request e.g:  | 
| RequestSpecification | queryParam(String parameterName, Object... parameterValues)                                           | Specify a query parameter that'll be sent with the request.                  | 
| RequestSpecification | queryParams(Map<String,?> parametersMap)                                                              | Specify the query parameters that'll be sent with the request.               | 
| RequestSpecification | queryParams(String firstParameterName, Object firstParameterValue, Object... parameterNameValuePairs) | Specify the query parameters that'll be sent with the request.               | 

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.queryParam("name","Rick Sanchez");

Response response = request.request("GET","/character");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```


## 9.9. Параметры формы

| Тип                  | Метод                                                                                                | Описание                                                                   |
|----------------------|------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
| RequestSpecification | formParam(String parameterName, Collection<?> parameterValues)                                       | Specify a multi-value form parameter that'll be sent with the request e.g: | 
| RequestSpecification | formParam(String parameterName, Object... parameterValues)                                           | Specify a form parameter that'll be sent with the request.                 | 
| RequestSpecification | formParams(Map<String,?> parametersMap)                                                              | Specify the form parameters that'll be sent with the request.              | 
| RequestSpecification | formParams(String firstParameterName, Object firstParameterValue, Object... parameterNameValuePairs) | Specify the form parameters that'll be sent with the request.              | 

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.contentType(ContentType.JSON);
request.cookie("cookie");
request.formParam("param", "value");
request.pathParam("method", "character");
request.param("name","Rick Sanchez");

Response response = request.request("GET","{method}");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```

## 9.10. Тело запроса

| Тип                  | Метод                                            | Описание                                                                                                                                                |
|----------------------|--------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| RequestSpecification | body(byte[] body)                                | Specify a byte array request body that'll be sent with the request.                                                                                     | 
| RequestSpecification | body(File body)                                  | Specify file content that'll be sent with the request.                                                                                                  | 
| RequestSpecification | body(InputStream body)                           | Specify file content that'll be sent with the request.                                                                                                  | 
| RequestSpecification | body(Object object)                              | Specify an Object request content that will automatically be serialized to JSON or XML and sent with the request.                                       | 
| RequestSpecification | body(Object object, ObjectMapper mapper)         | Specify an Object request content that will automatically be serialized to JSON or XML and sent with the request using a specific object mapper.        | 
| RequestSpecification | body(Object object, ObjectMapperType mapperType) | Specify an Object request content that will automatically be serialized to JSON or XML and sent with the request using a specific object mapper type.   | 
| RequestSpecification | body(String body)                                | Specify a String request body (such as e.g.                                                                                                             | 

*Пример*

```java

```

## 9.11. Загружаемые данные

| Тип                  | Метод                                                                               | Описание                                                                                                                                        |
|----------------------|-------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| RequestSpecification | multiPart(File file)                                                                | Specify a file to upload to the server using multi-part form data uploading.                                                                    | 
| RequestSpecification | multiPart(MultiPartSpecification multiPartSpecification)                            | Specify a multi-part specification.                                                                                                             | 
| RequestSpecification | multiPart(String controlName, File file)                                            | Specify a file to upload to the server using multi-part form data uploading with a specific control name.                                       | 
| RequestSpecification | multiPart(String controlName, File file, String mimeType)                           | Specify a file to upload to the server using multi-part form data uploading with a specific control name and mime-type.                         | 
| RequestSpecification | multiPart(String controlName, Object object)                                        | Specify an object that will be serialized to JSON and uploaded to the server using multi-part form data uploading with a specific control name. | 
| RequestSpecification | multiPart(String controlName, Object object, String mimeType)                       | Specify an object that will be serialized and uploaded to the server using multi-part form data uploading with a specific control name.         | 
| RequestSpecification | multiPart(String controlName, String contentBody)                                   | Specify a string to send to the server using multi-part form data.                                                                              | 
| RequestSpecification | multiPart(String controlName, String fileName, byte[] bytes)                        | Specify a byte-array to upload to the server using multi-part form data.                                                                        | 
| RequestSpecification | multiPart(String controlName, String fileName, byte[] bytes, String mimeType)       | Specify a byte-array to upload to the server using multi-part form data.                                                                        | 
| RequestSpecification | multiPart(String controlName, String fileName, InputStream stream)                  | Specify an inputstream to upload to the server using multi-part form data.                                                                      | 
| RequestSpecification | multiPart(String controlName, String fileName, InputStream stream, String mimeType) | Specify an inputstream to upload to the server using multi-part form data.                                                                      | 
| RequestSpecification | multiPart(String controlName, String filename, Object object, String mimeType)      | Specify an object that will be serialized and uploaded to the server using multi-part form data uploading with a specific control name.         | 
| RequestSpecification | multiPart(String controlName, String contentBody, String mimeType)                  | Specify a string to send to the server using multi-part form data with a specific mime-type.                                                    | 

*Пример*

```java

```

## 9.12. Куки

| Тип                  | Метод                                                                                    | Описание                                                             |
|----------------------|------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
| RequestSpecification | cookie(Cookie cookie)                                                                    | Specify a Cookie to send with the request.                           | 
| RequestSpecification | cookie(String cookieName)                                                                | Specify a cookie with no value that'll be sent with the request e.g: | 
| RequestSpecification | cookie(String cookieName, Object value, Object... additionalValues)                      | Specify a cookie that'll be sent with the request e.g:               | 
| RequestSpecification | cookies(Cookies cookies)                                                                 | Specify the cookies that'll be sent with the request as Cookies:     | 
| RequestSpecification | cookies(Map<String,?> cookies)                                                           | Specify the cookies that'll be sent with the request as Map e.g:     | 
| RequestSpecification | cookies(String firstCookieName, Object firstCookieValue, Object... cookieNameValuePairs) | Specify the cookies that'll be sent with the request.                | 

*Пример*

```java
RequestSpecification request = RestAssured.given();
request.accept(ContentType.JSON);
request.contentType(ContentType.JSON);
request.cookie("cookie");
request.pathParam("method", "character");
request.param("name","Rick Sanchez");

Response response = request.request("GET","{method}");
String asPrettyString = response.asPrettyString();
System.out.println("asPrettyString: " + asPrettyString);
```