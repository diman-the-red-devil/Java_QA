# Java_QA / Level 1. Easy - Основы / 1.1. Selenium WebDriver / Урок 06. Локаторы 1. CSS

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.%20Практика.md)

***

## Веб элементы

Что такое веб-элементы?

Веб-элемент – это индивидуальная сущность, генерирующаяся на веб-странице. 

Элементы – это все то, что пользователь видит (а иногда и не видит) на странице – заголовки, кнопки "ОК", поля ввода, текстовые блоки… 
Элементы в HTML определяются через имя тэга, атрибуты и содержание. У них также могут быть дочерние элементы – например, таблицы. 
CSS может применяться к элементам и менять их цвета, размеры и расположение. 
Языки программирования обычно получают доступ к веб-элементам как к нодам в объектной модели документа (DOM).

Что такое локаторы веб-элементов?

Веб-элементы и локаторы – это разные вещи. 

Локатор веб-элемента – это объект, который находит и возвращает веб-элементы на странице по заданному запросу. 
Короче говоря, локаторы находят элементы.

Зачем нужны локаторы? 
Как пользователи, мы взаимодействуем с веб-страницами визуально. Мы смотрим, скроллим, кликаем и печатаем посредством браузера. 
Тест-автоматизация, однако, взаимодействует со страницами программно: ей нужен закодированный способ поиска и манипулирования теми же самыми элементами. 
Традиционная автоматизация не будет "смотреть" на страницу, как человек – вместо этого она будет искать через DOM.

WebDriver предоставляет следующие типы запросов для локаторов через "By":

provides the following locator query types using “By”:

Class name (Имя класса)
CSS Selector
ID
Link text (текст ссылки)
Name (имя)
Partial link text (частичный текст ссылки)
Tag name (название тэга)
XPath

## Как искать элементы

Элементы могут с трудом поддаваться поиску, когда вы пишете локаторы для тест-автоматизации. Для упрощения работы я использую инструменты разработчика Chrome вместе с моей IDE. Почему Chrome?

Все так делают (посмотрите на информацию о долях рынка у браузеров).
Инструменты Chrome легко использовать, и они дают много полезной информации.
Чтобы исследовать любую страницу в Chrome, просто кликните правой кнопкой на любом месте страницы:

## Как писать хорошие локаторы?

Поиск элемента – это полдела. Создание уникального запроса для локатора – вот вторая половина. Если локатор чересчур широк, он будет возвращать ложноположительные значения. При слишком узком подходе он начнет ломаться при любом изменении DOM, и его будет сложно читать другим людям. Лучший подход здесь такой – пишите наиболее простой запрос, который уникально идентифицирует целевой элемент или элементы.

Мой список предпочтения типов запросов в порядке убывания:

ID (если уникален)
Имя (если уникально)
Имя класса
CSS-селектор
XPath без текста или индексирования
Текст ссылки/частичный текст ссылки.
XPath с текстом и/или индексированием.
Уникальные ID, имена и имена классов крайне упрощают создание локаторов: запросы будут краткими и не требуют дополнительных якорей. Всегда ратуйте, чтобы ваши разработчики использовали уникальные идентификаторы (например, имена классов) для всех элементов. Однако у многих элементов таких идентификаторов нет, и локаторам приходится полагаться на более сложные CSS-селекторы и (содрогнувшись) XPath. Если это случилось с вами, вот мои рекомендации:

Используйте родительские элементы как якоря, если у них есть уникальный идентификатор:
Пример CSS-селектора: “#some-list > li”
XPath-пример: “//ul[@id=’some-list’]/li”
Избегайте XPath с текстом/индексированием при любой возможности.
Плохой пример: “//div[3]//span[text()=’hello’]”
Это наиболее хрупкие тесты.
Используйте функцию "contains", проверяя классы в XPath.
Пример: “//div[contains(@class, ‘some-class’)]”
У элементов зачастую больше одного класса.
“contains” проверит подстроку вместо полной строки класса.
Но будьте осторожны, потому что под выдачу попадут также “some-class2”!
Всегда тестируйте локаторы, в них часто встречаются ошибки синтаксиса и ложноположительные значения. Chrome DevTools упрощает их тестирование – нажмите Ctrl+F на вкладке элементов и вставьте запрос локатора в поле поиска. DevTools подсветит все соответствующие элементы по порядку. Шик-блеск-красота!

***

Практика [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.%20Практика.md)