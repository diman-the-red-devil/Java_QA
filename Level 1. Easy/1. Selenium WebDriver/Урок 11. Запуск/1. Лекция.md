Java_QA / Level 1. Easy - Основы / 1.1. Selenium WebDriver / Урок 11. Запуск

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.%20Практика.md)

***

RemoteWebDriver не реализует методы интерфейса TakesScreenshot, поэтому для того, чтобы сделать скриншот на удаленной машине нужно сначала добавить интерфейс TakesScreenshot в класс RemoteWebDriver. Это можно выполнить с помощью класса Augmenter, который расширяет интерфейсы RemoteWebDriver на основе возвращаемых Capabilities драйвера.

Для снятия снимка экрана на удаленной машине код будет следующий:

import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.remote.Augmenter;
import org.openqa.selenium.remote.DesiredCapabilities;
import org.openqa.selenium.remote.RemoteWebDriver;


WebDriver driver = new RemoteWebDriver(
new URL("http://localhost:4444/wd/hub"),
DesiredCapabilities.firefox());
driver.get("http://internetka.in.ua");

WebDriver augmentedDriver = new Augmenter().augment(driver);
File screenshot = ((TakesScreenshot)augmentedDriver).
getScreenshotAs(OutputType.FILE);
Для того, чтобы сделать скриншот в случае если, например, тест завершился неудачей, приведенный код можно поместить в класс, прослушивающий выполнение теста и выполнить при завершении теста с ошибкой. Подробнее про то, как это сделать, можно почитать здесь. Для того, чтобы получить доступ к переменной driver из другого класса ее можно сделать статической (static) в базовом классе.

***

Практика [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.%20Практика.md)