# Java_QA / Level 1. Easy - Основы / 1.1. Selenium WebDriver / Урок 02. Веб драйвер

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.%20Практика.md)

***

***Selenium Webdriver*** - инструмент для автоматизации реального браузера, как локально, так и удаленно, наиболее близко имитирующий действия пользователя.

Для работы с Webdriver необходимо 3 основных программных компонента:

* **браузер** (браузер, работу которого нужно автоматизировать) 

Это реальный браузер определенной версии, установленный на определенной ОС и имеющий свои настройки (по умолчанию или кастомные). 
На самом деле Webdriver может работать и с ненастоящими браузерами, но подробно о них позже.

* **драйвер браузера** (программа для управления браузером) 

Драйвер на самом деле является веб сервером, который запускает браузер и отправляет ему команды, а также закрывает его. 
У каждого браузера свой драйвер. Связано это с тем, что у каждого браузера свои отличные команды управления и реализованы они по-своему. 
Найти список доступных драйверов и ссылки для скачивания можно на официальном сайте Selenium проекта.

* **скрипт/тест** (набор команд на определенном языке программирования для драйвера браузера) 

Такие скрипты используют готовые клиентские библиотеки, которые доступны пользователям на различных языках.

***

## 1. Как работает Selenium WebDriver?

Общая схема работы следующая:

1). Пользователь запускает скрипт/тест (на Java, Python, C#, Ruby) использующий готовые клиентские библиотеки (WebDriver).

2). WebDriver по протоколу JSON Wire Protocol посылает запросы драйверу браузера. 

3). Драйвер браузера (ChromebDriver, FirefoxbDriver, OperabDriver, EdgebDriver) посылает запросы реальному браузеру (Chrome, Firefox, Opera, Edge).

4). Драйвер браузера (ChromebDriver, FirefoxbDriver, OperabDriver, EdgebDriver) получает ответы от реального браузера (Chrome, Firefox, Opera, Edge).

5). WebDriver по протоколу JSON Wire Protocol получает ответы от драйвера браузера (полученные от реального браузера). 

![Схема работы WebDriver](./_Files/Selenium%20WebDriver/01.jpg)

***

## 2. Запуск разных браузеров

### 2.1. Драйверы браузеров

У каждого браузера есть свой драйвер, с которым данный браузер взаимодействует. Он представляет собой исполняемый файл. 
И для того чтобы WebDriver мог взаимодействовать с драйвером браузера, необходимо прописать путь до исполняемого файла.

```java
System.setProperty("webdriver.ie.driver", "src/test/resources/drivers/IEDriverServer.exe");
```

Если же используется WebDriverManager то делать этого не нужно.

Совместимость драйверов и браузеров:

* **Google Chrome**

    * драйвер от Google - **chromedriver**
    * только последняя версия 
    * поддержка предыдущих версий

* **Microsoft Intenet Explorer/Edge**

    * Edge драйвер от Microsoft - **edgedriver**
    * IE 9 - 11 драйвер от Selenium
    * IE 8- драйвер не поддерживается

* **Mozilla Firefox**

    * Firefox 49+ драйвер от Mozilla - **geckodriver**
    * Firefox 48 драйвер не поддерживается
    * Firefox 4 - 47 драйвер от Selenium
    * Firefox 3- драйвер не поддерживается
    
* **Apple Safari**

    * Safari 10 драйвер от Apple - **safaridriver**
    * Safari 6 - 9 драйвер от Selenium
    * Safari 5- драйвер не поддерживается

* **Opera**

    * Opera 15+ драйвер от Opera - **operchromiumdriver**
    * Opera 11 - 12 драйвер OperaPrestoDriver
    * Opera 10- драйвер не поддерживается

### 2.2. Инициализация WebDriver

Чтобы работать с каким то из браузеров нужно в коде инициализировать соответствующий WebDriver:

* **Google Chrome**

```java
public class ChromeBrowser {
    public WebDriver getDriver() {
        WebDriverManager.chromedriver().setup();
        return new ChromeDriver();
    }
}
```

* **Microsoft Intenet Explorer** 

```java
public class ExplorerBrowser {
    public WebDriver getDriver() {
        WebDriverManager.iedriver().setup();
        return new InternetExplorerDriver();
    }
}
```

* **Microsoft Edge**

```java
public class EdgeBrowser {
    public WebDriver getDriver() {
        WebDriverManager.edgedriver().setup();
        return new EdgeDriver();
    }
}
```

* **Mozilla Firefox**

```java
public class FirefoxBrowser {
    public WebDriver getDriver() {
        WebDriverManager.firefoxdriver().setup();
        return new FirefoxDriver(options);
    }
}
```

* **Opera**

```java
public class FirefoxBrowser {
    public WebDriver getDriver() {
        WebDriverManager.operadriver().setup();
        return new OperaDriver();
    }
}
```

***

## 3. Конфигурирование браузера при старте

### 3.1. Зачем нужно конфигурировать браузер при старте?

Вот несколько типовых случаев когда нужно конфигурировать браузер:

* запуск в определенном разрешении (для отладки **резинового** дизайна)
* запуск в полноразмерном экране
* конфигурирование timeout (page load, execute javascript, implicity)
* работа с cookies
* специфические вещи (режим эмулятора, логи и т.д.)

### 3.2. Интерфейс WebDriver.Options

**WebDriver.Options** - интерфейс для управления настройками браузера.

**WebDriver.manage()** - реализация интерфейса WebDriver.Options.

Данный интерфейс позволяет:

* работать с куками
* получать логи
* настраивать таймауты
* настраивать окно браузера

#### Куки (Cookie)

***Ку́ки*** (англ. cookie, буквально — печенье) — небольшой фрагмент данных, отправленный веб-сервером и хранимый на компьютере пользователя. 

Веб-клиент (обычно веб-браузер) всякий раз при попытке открыть страницу соответствующего сайта пересылает этот фрагмент данных веб-серверу в составе HTTP-запроса. 
Применяется для сохранения данных на стороне пользователя, на практике обычно используется для:

* аутентификации пользователя
* хранения персональных предпочтений и настроек пользователя
* отслеживания состояния сеанса доступа пользователя
* сведения статистики о пользователях

##### Интерфейс WebDriver.Options

Методы интерфейса *WebDriver.Options*

| Тип         | Метод                          | Описание                      | 
|-------------|--------------------------------|-------------------------------|
| void        | addCookie​(Cookie cookie)       | добавление куки браузеру      |
| void        | deleteAllCookies()             | удаление всех куки из браузера|
| void        | deleteCookie​(Cookie cookie)    | удаление куки из браузера     |
| void        | deleteCookieNamed​(String name) | удаление куки по имени        |
| Cookie      | getCookieNamed​(String name)    | получение куки по имени       |
| Set<Cookie> | getCookies()                   | получение всех куки           |

[selenium/docs/api : WebDriver.Options](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Options.html)

##### Класс Cookie 

**Cookie** - класс, реализующий куки.

Методы класса *Cookie*

| Тип                 | Метод       | Описание                                     | 
|---------------------|-------------|----------------------------------------------|
| String              | getDomain() | получение домена куки                        |
| Date                | getExpiry() | получение даты окончания срока действия куки |
| String              | getName()   | получение имени куки                         |
| String              | getPath()   | получение URL адреса куки                    |
| String              | getValue()  | получение значения куки                      |
| Map<String,​ Object> | toJson()    | преобразование в JSON объект                 |

[selenium/docs/api : Cookie](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Cookie.html)

##### Пример

```java
driver.manage().addCookie(new Cookie("key", "value")); 
driver.manage().getCookieNamed("foo") 
driver.manage().getCookies(); 
driver.manage().deleteCookieNamed("test1"); 
```

#### Логи (Log)

***Логирование*** важно как для разработчиков так и для пользователей Webdriver. 
Пользователи хотят иметь возможность быстро понять почему упал тест, в то время как разработчик хочет получить информацию, почему Webdriver упал. 
Хорошее логирование может сделать дебаггинг намного проще.

##### Интерфейс WebDriver.Options

Методы интерфейса *WebDriver.Options*

| Тип  | Метод  | Описание        | 
|------|--------|-----------------|
| Logs | logs() | получение логов |

[selenium/docs/api : WebDriver.Options](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Options.html)

##### Типы логов

Webdriver может быть использован в различных конфигурациях. 
К примеру, клиент запускающий тест (Java) может напрямую взаимодействовать с драйвером (локальный запуск), 
который контролирует браузер, или опосредованно через сервер (удаленный запуск). 
В зависимости от конфигурации могут быть доступны различные типы логов. 
Поэтому webdriver предоставляет возможность узнать типы поддерживаемых логов.

| Типы        | Описание                                                                        | 
|-------------|---------------------------------------------------------------------------------|
| browser     | логи от javascript консоли браузера                                             |
| client      | логи от клиентской части протокола Webdriver (например, Java bindings)          |
| driver      | логи драйвера (например, логи FirefoxDriver)                                    |
| performance | логи относящиеся к производительности на странице (тайминги загрузки ресурсов)  |
| server      | логи от Selenium сервера                                                        |

##### Уровни логгирования

Логи состоят из записей, каждая из которых содержит время (timestamp), уровень (log level) и сообщение.

*Предназначение уровней логгирования* - это предоставить пользователю способ фильтрации сообщений лога в зависимости от уровня интереса пользователя. 
Например, если цель логгирования - дебаггинг, то практически все сообщения будут нужны, в то время как при общем мониторинге понадобится меньше информации.

Для Webdriver были разработаны следующие уровни логгирования (в порядке возрастания детализированности):

| Уровень | Описание                                                 | Пример                                   |
|---------|----------------------------------------------------------|------------------------------------------|
| OFF     | логгирование отключено                                   |                                          |
| SEVERE  | сообщения об ошибках                                     | при неизвестной команде                  |
| WARNING | предупреждения о том, что могло быть неверным            | перехваченное исключение                 |
| INFO    | сообщения информативного характера о полученных командах |                                          |
| DEBUG   | сообщения для дебаггинга                                 | информация о состоянии драйвера          |
| ALL     | все сообщения                                            | все сообщения независимо от его уровня   |

Языки программирования вроде Java или Python предоставляют свои API логгирования со своими уровнями. 
Интерфейс вебдрайвера Log может работать с Java LogType, как в примере ниже. 
Однако следует иметь в виду, что внутри webdriver API уровень логгирования языка программирования должен быть преобразован 
в уровень логгирования Webdriver, прежде чем отправится запрос.

##### Интерфейс Logs

**Logs** - интерфейс предоставляющий методы работы с логами.

Методы интерфейса *Logs*

| Тип         | Метод                          | Описание                        | 
|-------------|--------------------------------|---------------------------------|
| LogEntries  | get​(String logType)            | получение логов заданного типа  |
| Set<String> | getAvailableLogTypes()         | получение доступных типов логов |

[selenium/docs/api : Logs](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/logging/Logs.html)

##### Класс LogEntries

**LogEntries** - класс представляющий пул логов.

Методы класса *LogEntries*

| Тип                 | Метод      | Описание                        | 
|---------------------|------------|---------------------------------|
| List<LogEntry>      | getAll()   | получение логов заданного типа  |
| Iterator<LogEntry>  | iterator() | получение доступных типов логов |
| Map<String, Object> | toJson()   | преобразование в JSON объект    |

[selenium/docs/api : LogEntries](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/logging/LogEntries.html)

##### Класс LogEntry

**LogEntry** - класс представляющий запись лога.

Методы класса *LogEntry*
 
| Тип                 | Метод          | Описание                                      | 
|---------------------|----------------|-----------------------------------------------|
| Level               | getLevel()     | получение уровня логгирования                 |
| String              | getMessage()   | получение сообщения в логе                    |
| long                | getTimestamp() | получение таймштампа (количество миллисекунд) |
| Map<String, Object> | toJson()       | преобразование в JSON объект                  |

[selenium/docs/api : LogEntry](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/logging/LogEntry.html)

##### Пример

```java
Logs logs = driver.manage().logs();
LogEntries logEntries = logs.get(LogType.DRIVER);
for (LogEntry logEntry : logEntries) {
    System.out.println(logEntry.getMessage());
}

LoggingPreferences logs = new LoggingPreferences();
logs.enable(LogType.BROWSER, Level.OFF);
logs.enable(LogType.CLIENT, Level.SEVERE);
logs.enable(LogType.DRIVER, Level.WARNING);
logs.enable(LogType.PERFORMANCE, Level.INFO);
logs.enable(LogType.SERVER, Level.ALL);
```

#### Таймауты (TimeOut)

**Ожидания** - непременный атрибут любых UI тестов для динамических приложений. 
Нужны они для синхронизации работы AUT и тестового скрипта. 
Скрипт выполняется намного быстрее реакции приложения на команды, 
поэтому часто в скриптах необходимо дожидаться определенного состояния приложения для дальнейшего с ним взамодействия.

##### Интерфейс WebDriver.Options

Методы интерфейса *WebDriver.Options*

| Тип      | Метод      | Описание            | 
|----------|------------|---------------------|
| Timeouts | timeouts() | настройка таймаутов |

[selenium/docs/api : WebDriver.Options](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Options.html)

##### Интерфейс Timeouts

**Timeouts** - интерфейс представляющий настройки ожиданий.

Методы интерфейса *Timeouts*

| Тип                | Метод                               | Описание                                                                                    | 
|--------------------|-------------------------------------|---------------------------------------------------------------------------------------------|
| WebDriver.Timeouts | implicitlyWait​(Duration duration)   | настройка ожидания до появления элемента на странице (неявные ожидания) (document == ready) |
| WebDriver.Timeouts | pageLoadTimeout​(Duration duration)  | настройка ожидания до завершения загрузки страница перед появлением ошибки                  |
| WebDriver.Timeouts | setScriptTimeout​(Duration duration) | настройка ожидания до завершения выполнения асинхронного сценария перед появлением ошибки   |

[selenium/docs/api : Timeouts](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html)

##### Пример

```java
WebDriver driver = new FirefoxDriver();
driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);
driver.get("http://some_url");
WebElement dynamicElement = driver.findElement(By.id("dynamicElement_id"));
```

#### Окно браузера (Window)

##### Интерфейс WebDriver.Options

Методы интерфейса 

| Тип      | Метод        | Описание            | 
|----------|--------------|---------------------|
| Timeouts | fullscreen() | настройка таймаутов |

[selenium/docs/api : WebDriver.Options](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Options.html)

##### Интерфейс Window

**Window** - интерфейс представляющий настройки окна браузера.

Методы интерфейса *Window*

| Тип       | Метод                             | Описание                                                             | 
|-----------|-----------------------------------|----------------------------------------------------------------------|
| void      | fullscreen()                      | перевод текущего окна в полноэкранный режим                          |
| Point     | getPosition()                     | получение координат текущего окна отн-но верхнего левого угла экрана |
| Dimension | getSize()                         | получение размеров текущего окна                                     |
| void      | maximize()                        | максимизировать размер текущего окна                                 |
| void      | minimize()                        | минимизировать размер текущего окна                                  |
| void      | setPosition​(Point targetPosition) | установить координаты текущего окна                                  |
| void      | setSize​(Dimension targetSize)     | установить размеры текущего окна                                     |

[selenium/docs/api : Window](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Window.html)

##### Класс Point

**Point** - класс представляющий точку с координатами x и y в пространстве.

Методы класса *Point*

| Тип   | Метод                            | Описание                                 | 
|-------|----------------------------------|------------------------------------------|
| int   | getX()                           | получение координаты x                   |
| int   | getY()                           | получение координаты y                   |
| void  | move​(int newX, int newY)         | перемещение в точку с координатами x и y |
| Point | moveBy​(int xOffset, int yOffset) | перемещение в точку с отступами по x и y |

[selenium/docs/api : Point](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Point.html)

##### Класс Dimension

**Dimension** - класс размеры окна по x и y.

Методы класса *Dimension*

| Тип   | Метод       | Описание                        | 
|-------|-------------|---------------------------------|
| int   | getHeight() | получение размера по x (ширина) |
| int   | getWidth()  | получение размера по y (высота) |

[selenium/docs/api : Dimension](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Dimension.html)

##### Пример

```java
WebDriver driver = new FirefoxDriver();
driver().manage().window().maximize();
driver().manage().window().fullscreen();
```

### 3.3. Capabilities, MutableCapabilities и AbstractDriverOptions

Каждый браузер обладает какими либо свойствами, отличными от других браузеров. В тестах бывает полезно использовать эти свойства браузеров. 
Для настройки специфичных свойств существуют специальные интерфейсы и классы под каждый браузер. 

#### Интерфейс Capabilities

**MutableCapabilities** - интерфейс для получения настроек конкретного браузера.

Методы интерфейса *MutableCapabilities*

| Тип         | Метод                                 | Описание                       | 
|-------------|---------------------------------------|--------------------------------|
| String      | getBrowserName()                      | получение имени браузера       |
| String      | getBrowserVersion()                   | получение версии браузера      |
| Object      | getCapability​(String capabilityName)  | получение настройки по имени   |
| Set<String> | getCapabilityNames()                  | получение списка настроек      |
| Platform    | getPlatformName()                     | получение имени платформы (ОС) |

[selenium/docs/api : Capabilities](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Capabilities.html)

##### Перечисление Platform

**Platform** - перечисление определяющее типы платформ.

Константы перечисления *Platform*

| Тип           | Описание         | 
|---------------|------------------|
| ANDROID       | Android          |
| ANY           | Любая            |
| BIG_SUR       | macOS            |
| CATALINA      | macOS            |
| EL_CAPITAN    | macOS            |
| HIGH_SIERRA   | macOS            |
| IOS           | iOS              |
| LINUX         | Linux            |
| MAC           | macOS            |
| MAVERICKS     | macOS            |
| MOJAVE        | macOS            |
| MOUNTAIN_LION | macOS            |
| SIERRA        | macOS            |
| SNOW_LEOPARD  | macOS            |
| UNIX          | Unix             |
| VISTA         | Windows          |
| WIN10         | Windows          |
| WIN8          | Windows          |
| WIN8_1        | Windows          |
| WINDOWS       | Windows          |
| XP            | Windows          |
| YOSEMITE      | macOS            |

Методы перечисления *Platform*

| Тип      | Метод                                                   | Описание                                                 | 
|----------|---------------------------------------------------------|----------------------------------------------------------|
| Platform | extractFromSysProperty​(String osName)                   | извлечение платформы (ОС) на основе системной переменной |
| Platform | extractFromSysProperty​(String osName, String osVersion) | извлечение платформы (ОС) на основе системной переменной |
| Platform | family()                                                | получение семейства текущей платформы (ОС)               |
| Platform | fromString​(String name)                                 | получение платформы (ОС) по имени                        |
| Platform | getCurrent()                                            | получение текущей версии платформы (ОС)                  |
| int      | getMajorVersion()                                       | получение мажорной версии платформы (ОС)                 |
| int      | getMinorVersion()                                       | получение минорной версии платформы (ОС)                 |

[selenium/docs/api : Platform](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Platform.html)

#### Класс MutableCapabilities

**MutableCapabilities** - класс для управления настройками конкретного браузера.

Данный класс реализует интерфейс *Capabilities*.

Методы класса *MutableCapabilities*

| Тип                 | Метод                                                | Описание                     | 
|---------------------|------------------------------------------------------|------------------------------|
| Object              | getCapability​(String capabilityName)                 | получение настройки по имени |
| Set<String>         | getCapabilityNames()                                 | получение списка настроек    |
| MutableCapabilities | merge​(Capabilities extraCapabilities)                | мерж настройки               |
| void                | setCapability​(String capabilityName, boolean value)  | установка настройки          |
| void                | setCapability​(String key, Object value)              | установка настройки          |
| void                | setCapability​(String capabilityName, String value)   | установка настройки          |
| void                | setCapability​(String capabilityName, Platform value) | установка настройки          |
| Map<String, Object> | toJson()                                             | преобразование в JSON объект |

[selenium/docs/api : MutableCapabilities](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/MutableCapabilities.html)

#### Класс AbstractDriverOptions<DO extends AbstractDriverOptions>

**AbstractDriverOptions<DO extends AbstractDriverOptions>** - класс для установки дополнительных параметров браузера.

Данный класс наследует и расширяет класс *MutableCapabilities*.

Методы класса *AbstractDriverOptions*

| Тип | Метод                                                           | Описание                                | 
|-----|-----------------------------------------------------------------|-----------------------------------------|
| DO  | setAcceptInsecureCerts​(boolean acceptInsecureCerts)             | установка                               |
| DO  | setPageLoadStrategy​(PageLoadStrategy strategy)                  | установка стратегии загрузки страницы   |
| DO  | setProxy​(Proxy proxy)                                           | установка прокси                        |
| DO  | setStrictFileInteractability​(boolean strictFileInteractability) | установка                               |
| DO  | setUnhandledPromptBehaviour​(UnexpectedAlertBehaviour behaviour) | установка                               |

[selenium/docs/api : AbstractDriverOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/remote/AbstractDriverOptions.html)

##### Класс Proxy

**Proxy** - класс представляющий настройки используемых прокси.

Методы класса *Proxy*

| Тип             | Метод                                              | Описание                                     | 
|-----------------|----------------------------------------------------|----------------------------------------------|
| Proxy           | extractFrom​(Capabilities capabilities)             | получение прокси из настроек браузера        |
| String          | getFtpProxy()                                      | получение FTP прокси                         |
| String          | getHttpProxy()                                     | получение HTTP  прокси                       |
| String          | getNoProxy()                                       |                                              |
| String          | getProxyAutoconfigUrl()                            | получение автосконфигурированного url прокси |
| Proxy.ProxyType | getProxyType()                                     | получение типа прокси                        |
| String          | getSocksPassword()                                 | получение пароля SOCKS прокси                |
| String          | getSocksProxy()                                    | получение SOCKS прокси                       |
| String          | getSocksUsername()                                 | получение имени пользователя SOCKS прокси    |
| String          | getSocksVersion()                                  | получение версии SOCKS                       |
| String          | getSslProxy()                                      | получение SSL прокси                         |
| boolean         | isAutodetect()                                     | проверка автоматической настройки прокси     |
| Proxy           | setAutodetect​(boolean autodetect)                  | установка автоматической настройки прокси    |
| Proxy           | setFtpProxy​(String ftpProxy)                       | установка FTP прокси                         |
| Proxy           | setHttpProxy​(String httpProxy)                     | установка HTTP прокси                        |
| Proxy           | setNoProxy​(String noProxy)                         |                                              |
| Proxy           | setProxyAutoconfigUrl​(String proxyAutoconfigUrl)   | установка автосконфигурированного url прокси |
| Proxy           | setProxyType​(Proxy.ProxyType proxyType)            | установка типа прокси                        |
| Proxy           | setSocksPassword​(String password)                  | установка пароля SOCKS прокси                |
| Proxy           | setSocksProxy​(String socksProxy)                   | установка SOCKS прокси                       |
| Proxy           | setSocksUsername​(String username)                  | установка имени пользователя SOCKS прокси    |
| Proxy           | setSocksVersion​(Integer socksVersion)              | установка версии SOCKS                       |
| Proxy           | setSslProxy​(String sslProxy)                       | установка SSL прокси                         |

[selenium/docs/api : Proxy](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Proxy.html)

##### Перечисление ProxyType

**ProxyType** - перечисление определяющее типы прокси.

Константы перечисления *ProxyType*

| Тип         | Описание         | 
|-------------|------------------|
| AUTODETECT  |                  |
| DIRECT      |                  |
| MANUAL      |                  |
| PAC         |                  |
| RESERVED_1  |                  |
| SYSTEM      |                  |
| UNSPECIFIED |                  |

[selenium/docs/api : PageLoadStrategy](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Proxy.ProxyType.html)

##### Перечисление PageLoadStrategy

**PageLoadStrategy** - перечисление определяющее стратегии загрузки страницы.

Константы перечисления *PageLoadStrategy*

| Тип    | Описание         | 
|--------|------------------|
| EAGER  |                  |
| NONE   |                  |
| NORMAL |                  |

[selenium/docs/api : PageLoadStrategy](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/PageLoadStrategy.html)

##### Перечисление UnexpectedAlertBehaviour

**UnexpectedAlertBehaviour** - перечисление определяющее поведение алертов.

Константы перечисления UnexpectedAlertBehaviour

| Тип                | Описание         | 
|--------------------|------------------|
| ACCEPT             |                  |
| ACCEPT_AND_NOTIFY  |                  |
| DISMISS            |                  |
| DISMISS_AND_NOTIFY |                  |
| IGNORE             |                  |

[selenium/docs/api : UnexpectedAlertBehaviour](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/UnexpectedAlertBehaviour.html)

DesiredCapabilities caps = new DesiredCapabilities()
DesiredCapabilities desiredCapabilities = DesiredCapabilities.firefox();
desiredCapabilities.setCapability(CapabilityType.LOGGING_PREFS, logs);
WebDriver driver = new FirefoxDriver(desiredCapabilities);

setCapability()
Shared capabilities
Driver specific capabilities

### 3.4. Option

Непосредственно от AbstractDriverOptions наследуются класс Options для управления различными свойствами драйвера конкретного браузера. 

#### Класс ChromiumOptions<T extends ChromiumOptions>

**ChromiumOptions** - класс представляющий настройки для драйвера ChromiumDriver.

Методы класса *ChromiumOptions*

| Тип | Метод                                            | Описание                                      | 
|-----|--------------------------------------------------|-----------------------------------------------|
| T   | addArguments​(String... arguments)                | добавление параметров при запуске Chrome      |
| T   | addArguments​(List<String> arguments)             | добавление параметров при запуске Chrome      |
| T   | addEncodedExtensions​(String... encoded)          | установка расширений при запуске Chrome       |
| T   | addEncodedExtensions​(List<String> encoded)       | установка расширений при запуске Chrome       |
| T   | addExtensions​(File... paths)                     | установка расширений при запуске Chrome       |
| T   | addExtensions​(List<File> paths)                  | установка расширений при запуске Chrome       |
| T   | setBinary​(File path)                             | установка пути до исполняемого файла Chrome   |
| T   | setBinary​(String path)                           | установка пути до исполняемого файла Chrome   |
| T   | setExperimentalOption​(String name, Object value) | включение экспериментальных функций           |
| T   | setHeadless​(boolean headless)                    | запуск в "безголовом режиме"                  |

[selenium/docs/api : ChromiumOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chromium/ChromiumOptions.html)

#### Класс ChromeOptions

**ChromeOptions** - класс представляющий настройки для драйвера ChromiumDriver.

Методы класса *ChromeOptions*

| Тип | Метод                                      | Описание                     | 
|-----|--------------------------------------------|------------------------------|
| T   | getLogLevel()                              | получение уровня логирования |
| T   | setLogLevel​(ChromeDriverLogLevel logLevel) | установка уровня логирования |

[selenium/docs/api : ChromeOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/chrome/ChromeOptions.html)

#### Класс FirefoxOptions

**FirefoxOptions** - класс представляющий настройки для драйвера FirefoxDriver.

Методы класса *FirefoxOptions*

| Тип                     | Метод                                       | Описание                                       | 
|-------------------------|---------------------------------------------|------------------------------------------------|
| FirefoxOptions          | addArguments​(String... arguments)           | добавление параметров при запуске Firefox      |
| FirefoxOptions          | addArguments​(List<String> arguments)        | добавление параметров при запуске Firefox      |
| FirefoxOptions          | addPreference​(String key, Object value)     | установка preferences при запуске Firefox      |
| FirefoxBinary           | getBinary()                                 | получение двоичных данных от Firefox           |
| Optional<FirefoxBinary> | getBinaryOrNull()                           | получение двоичных данных от Firefox           |
| FirefoxProfile          | getProfile()                                | получения профиля Firefox                      |
| FirefoxOptions          | setBinary​(String path)                      | установка пути до исполняемого файла           |
| FirefoxOptions          | setBinary​(Path path)                        | установка пути до исполняемого файла           |
| FirefoxOptions          | setBinary​(FirefoxBinary binary)             | установка пути до исполняемого файла           |
| void                    | setCapability​(String key, Object value)     | установка настройки                            |
| FirefoxOptions          | setHeadless​(boolean headless)               | запуск в "безголовом режиме"                   |
| FirefoxOptions          | setLogLevel​(FirefoxDriverLogLevel logLevel) | установка уровня логгирования                  |
| FirefoxOptions          | setProfile​(FirefoxProfile profile)          | установка профиля Firefox                      |

[selenium/docs/api : FirefoxOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html)

##### Класс FirefoxBinary

**FirefoxBinary** - класс представляющий настройки для драйвера FirefoxDriver.

Методы класса *FirefoxBinary*

| Тип                     | Метод                                       | Описание                         | 
|--------------|------------------------------------------|------------------------------------------------|
| void         | addCommandLineOptions​(String... options) | параметры командной строки при запуске Firefox |
| List<String> | getExtraOptions()                        | получение дополнительных параметров            |
| File         | getFile()                                | получение файла                                |
| String       | getPath()                                | получение пути                                 |

[selenium/docs/api : FirefoxOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html)

##### Класс FirefoxProfile

**FirefoxProfile** - класс представляющий профиль Firefox.

Методы класса *FirefoxProfile*

| Тип     | Метод                                                      | Описание                                 | 
|---------|------------------------------------------------------------|------------------------------------------|
| void    | addExtension​(File extensionToInstall)                      | установка расширений при запуске Firefox |
| void    | addExtension​(Class<?> loadResourcesUsing, String loadFrom) | установка расширений при запуске Firefox |
| void    | addExtension​(String key, Extension extension)              | установка расширений при запуске Firefox |
| void    | clean​(File profileDir)                                     | очистка директории                       |
| boolean | containsWebDriverExtension()                               | проверка на наличие расширений           |
| void    | deleteExtensionsCacheIfItExists​(File profileDir)           | удаление расширений кеша                 |
| void    | getAdditionalPreferences()                                 | получение дополнительных preferences     |
| void    | getBooleanPreference​(String key, boolean defaultValue)     | получение preferences                    |
| int     | getIntegerPreference​(String key, int defaultValue)         | получение preferences                    |
| String  | getStringPreference​(String key, String defaultValue)       | получение preferences                    |
| void    | installExtensions​(File parentDir)                          | установка расширений                     |
| void    | setPreference​(String key, Object value)                    | установка preferences                    |
| void    | updateUserPrefs​(File userPrefs)                            | обновление preferences                   |

[selenium/docs/api : FirefoxProfile](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html)

##### Перечисление FirefoxDriverLogLevel

**FirefoxDriverLogLevel** - перечисление представляющее уровень логгирования FirefoxDriver.

Константы перечисления *FirefoxDriverLogLevel*

| Тип     | Описание         | 
|---------|------------------|
| CONFIG  |                  |	 
| DEBUG	  |                  |
| ERROR	  |                  |
| FATAL	  |                  |
| INFO	  |                  |
| TRACE	  |                  |
| WARN    |                  |

Методы класса *FirefoxDriverLogLevel*

| Тип                   | Метод                   | Описание               | 
|-----------------------|-------------------------|------------------------|
| FirefoxDriverLogLevel | fromLevel​(Level level)  | из уровня логгирования |
| FirefoxDriverLogLevel | fromString​(String text) | из строки              |

[selenium/docs/api : FirefoxDriverLogLevel](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxDriverLogLevel.html)

#### Класс OperaOptions

**OperaOptions** - класс представляющий настройки для драйвера OperaDriver.

Методы класса *OperaOptions*

| Тип          | Метод                                            | Описание                                    | 
|--------------|--------------------------------------------------|---------------------------------------------|
| OperaOptions | addArguments​(String... arguments)                | добавление параметров при запуске Firefox   |
| OperaOptions | addArguments​(List<String> arguments)             | добавление параметров при запуске Firefox   |
| OperaOptions | addEncodedExtensions​(String... encoded)          | установка расширений при запуске Chrome     |
| OperaOptions | addEncodedExtensions​(List<String> encoded)       | установка расширений при запуске Chrome     |
| OperaOptions | addExtensions​(File... paths)                     | установка расширений при запуске Chrome     |
| OperaOptions | addExtensions​(List<File> paths)                  | установка расширений при запуске Chrome     |
| Object       | getExperimentalOption​(String name)               | получение экспериментальных функций         |
| OperaOptions | setBinary​(File path)                             | установка пути до исполняемого файла Chrome |
| OperaOptions | setBinary​(String path)                           | установка пути до исполняемого файла Chrome |
| OperaOptions | setExperimentalOption​(String name, Object value) | включение экспериментальных функций         |

[selenium/docs/api : OperaOptions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/opera/OperaOptions.html)

***

## 4. Основные команды веб драйвера

driver.get("https://devqa.io");
driver.getCurrentUrl();
driver.getTitle();
driver.getPageSource();
driver.close();
driver.quit();

ChromeOptions chromeOptions = new ChromeOptions()
FirefoxOptions firefoxOptions = new FirefoxOptions()
addArguments()
Browser Arguments:
–headless To open browser in headless mode. Works in both Chrome and Firefox browser
–start-maximized To start browser maximized to screen. Requires only for Chrome browser. Firefox by default starts maximized
–incognito To open private chrome browser
–disable-notifications To disable notifications, works Only in Chrome browser

Практика [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.%20Практика.md)