# Java_QA / Level 1. Easy - Основы / 1.1. Selenium WebDriver / Урок 07. Веб элементы

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.%20Практика.md)

***

## 1. Интерфейс WebElement

***WebElement*** - интерфейс реализующий взаимодействие с веб элементами.

Методы интерфейса *WebElement*

* **Свойства**

| Тип       | Метод                        | Описание                                                   | 
|-----------|------------------------------|------------------------------------------------------------|
| String    | getTagName()                 | Получение имени тега элемента                              |
| String    | getCssValue(String name)     | Получение значения CSS параметра элемента                  |
| String    | getAttribute(String name)    | Получение значения атрибута элемента                       |
| String    | getAccessibleName()          | Получение имени                                            |
| String    | getDomProperty(String name)  | Получение значения параметра элемента                      |
| String    | getDomAttribute(String name) | Получение значения атрибута элемента                       |
| Dimension | getSize()                    | Получение значения ширины и высоты элемента                |
| Point     | getLocation()                | Получение значения координат верхнего левого угла элемента |
| Rectangle | getRect()                    | Получение                                                  |
| String    | getText()                    | Получение текстового содержимого элемента                  |
| boolean   | isDisplayed()                | Проверка видимости элемента                                |
| boolean   | isEnabled()                  | Проверка доступности элемента                              |
| boolean   | isSelected()                 | Проверка выбранности элемента                              |

* **Действия**

| Тип  | Метод                                | Описание                        | 
|------|--------------------------------------|---------------------------------|
| void | click()                              | Нажатие на элемент              |
| void | sendKeys(CharSequence... keysToSend) | Ввод текста в поле ввода        |
| void | clear()                              | Очистка поля ввода              |
| void | submit()                             | Отправка данных формы           |
| void | findElement(By by)                   | Поиск элемента внутри элемента  |
| void | findElements(By by)                  | Поиск элементов внутри элемента |

[selenium/docs/api : WebDriver](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html)

### 1.1. Свойства

#### Атрибуты и свойства

Для получения имени тега применяется команда **getTagName()**.

```java
WebElement element = driver.findElement(By.id("email"));
String tagName = element.getTagName();
```

Для получения значения атрибута применяется команда **getAttribute(String name)**.

```java
WebElement element = driver.findElement(By.id("email"));
String tagName = element.getAttribute();
```

#### Размер и положение

Для получения значения ширины и высоты элемента применяется команда **getSize()**.

```java
WebElement element = driver.findElement(By.id("email"));
Dimension size = element.getSize();
int height = size.getHeight();
int width = size.getWidth();
```


Для получения значения координат верхнего левого угла элемента применяется команда **getLocation()**.

```java
WebElement element = driver.findElement(By.id("email"));
Point location = element.getLocation();
int x = location.getX();
int y = location.getY();
```

Для получения размеров и положения элемента применяется команда **getRect()**.

```java
WebElement element = driver.findElement(By.id("email"));
Rectangle rect = element.getRect();
Dimension size = rect.getDimension();
int height = size.getHeight();
int width = size.getWidth();
Point location = rect.getPoint();
int x = location.getX();
int y = location.getY();
```

##### Класс Dimension

***Dimension*** - 

| Тип | Метод       | Описание                  | 
|-----|-------------|---------------------------|
| int | getHeight() | Получение высоты элемента |
| int | getWidth()  | Получение ширины элемента |

[selenium/docs/api : Dimension](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Dimension.html)

##### Класс Point

***Point*** - 

| Тип   | Метод                            | Описание                                             | 
|-------|----------------------------------|------------------------------------------------------|
| int   | getX()                           | Получение координаты x верхнего левого угла элемента |
| int   | getY()                           | Получение координаты y верхнего левого угла элемента |
| Point	| moveBy(int xOffset, int yOffset) | Перемещение координат верхнего левого угла элемента  |

[selenium/docs/api : Point](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Point.html)

##### Класс Rectangle

***Rectangle*** - 

| Тип       | Метод          | Описание                  | 
|-----------|----------------|---------------------------|
| Dimension | getDimension() | Получение высоты элемента |
| int       | getHeight()    | Получение высоты элемента |
| int       | getWidth()     | Получение ширины элемента |
| Point     | getPoint()     | Получение ширины элемента |
| int       | getX()         | Получение высоты элемента |
| int       | getY()         | Получение ширины элемента |

[selenium/docs/api : Rectangle](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Rectangle.html)

#### Видимость и доступность

Для проверки видимости элемента применяется команда **isDisplayed()**.

```java
WebElement element = driver.findElement(By.id("email"));
boolean isDisplayed = element.isDisplayed();
```

Для проверки доступности элемента применяется команда **isEnabled()**.

```java
WebElement element = driver.findElement(By.id("email"));
boolean isEnabled = element.isEnabled();
```

Для проверки выбранности элемента применяется команда **isSelected()**.

```java
WebElement element = driver.findElement(By.id("email"));
boolean isSelected = element.isSelected();
```

#### Текст

Для получения текстового содержимого элемента применяется команда **getText()**.

```java
WebElement element = driver.findElement(By.tagName("h1"));
String text = element.getText();
```

#### Стили

Для получения значения CSS применяется команда **getCssValue(String name)**.

```java
WebElement element = driver.findElement(By.id("email"));
String tagName = element.getCssValue();
```

### 1.2. Действия

#### Нажатие на элемент

Для выполнения нажатия на элемент применяется команда **click()**.

```java
WebElement element = driver.findElement(By.name("send"));
element.click();
```

#### Ввод текста

Для ввода текста в поля ввода применяется команда **sendKeys()**.

```java
WebElement element = driver.findElement(By.name("email"));
element.click();
```

#### Удаление текста

Для удаления текста из поля ввода применяется команда **clear()**

```java
WebElement element = driver.findElement(By.name("Initial"));
element.clear();
```

#### Отправка данных формы

Для отправки данных формы применяется команда **submit()**

```java
WebElement element = driver.findElement(By.name("Initial"));
element.clear();
```

***

## 2. Интерфейс Action

***Action*** - интерфейс реализующий сложные взаимодействия.

Методы интерфейса **Action**

| Тип  | Метод     | Описание            | 
|------|-----------|---------------------|
| void | perform() | Выполнение действия |

[selenium/docs/api : Action](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Action.html)

### 2.1. Класс Actions

***Actions*** - класс предоставляющий команды реализующие сложные взаимодействия.

Данный класс реализует интерфейс **Actions**.

Методы класса **Actions**

| Тип     | Метод                                                       | Описание                                               |
|---------|-------------------------------------------------------------|--------------------------------------------------------|
| Action  | build()                                                     | Построение цепочки действий                            |
| Actions | click()                                                     | Левый клик мышью в текущей позиции                     |
| Actions | click(WebElement target)                                    | Левый клик мышью в центре элемента                     |
| Actions | clickAndHold()                                              | Левый клик мышью c удержанием в текущей позиции        |
| Actions | clickAndHold(WebElement target)                             | Левый клик мышью c удержанием в центре элемента        |
| Actions | contextClick()                                              | Правый клик мышью в текущей позиции                    |
| Actions | contextClick(WebElement target)                             | Правый клик мышью в центре элемента                    |
| Actions | doubleClick()                                               | Двойной клик мышью в текущей позиции                   |
| Actions | doubleClick(WebElement target)                              | Двойной клик мышью в центре элемента                   |
| Actions | dragAndDrop(WebElement source, WebElement target)           | Перетаскивание объекта                                 |
| Actions | dragAndDropBy(WebElement source, int xOffset, int yOffset)  | Перетаскивание объекта с смещением                     |
| Actions | keyDown(CharSequence key)                                   | Нажатие клавиши клавиатуры                             |
| Actions | keyDown(WebElement target, CharSequence key)                | Нажатие клавиши клавиатуры в элементе                  |
| Actions | keyUp(CharSequence key)                                     | Отпускание клавиши клавиатуры                          |
| Actions | keyUp(WebElement target, CharSequence key)                  | Отпускание клавиши клавиатуры в элементе               |
| Actions | moveByOffset(int xOffset, int yOffset)                      | Смещение мыши                                          |
| Actions | moveToElement(WebElement target)                            | Перемещение мыши в центр элемента                      |
| Actions | moveToElement(WebElement target, int xOffset, int yOffset)  | Перемещение мыши в центр элемента с смещением          |
| Actions | pause(long pause)                                           | Пауза                                                  |
| Actions | pause(Duration duration)                                    | Пауза                                                  |
| Actions | perform()                                                   | Выполнение построенной цепочки действий                |
| Actions | release()                                                   | Отпускание мыши                                        |
| Actions | release(WebElement target)                                  | Отпускание мыши в центре элемента                      |
| Actions | sendKeys(CharSequence... keys)                              | Ввод текста в текущей позиции                          |
| Actions | sendKeys(WebElement target, CharSequence... keys)           | Ввод текста в элементе                                 |
| Actions | tick(Action action)                                         |                                                        |
| Actions | tick(Interaction... actions)                                |                                                        |

[selenium/docs/api : Actions](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html)

### 2.2. Сложные действия

**Selenium WebDriver** позволяет имитировать действия пользователя, начиная от простых движений мыши до сложных, перетягивание объекта. 
Все это позволяет реализовать класс Actions. Так же разработчики позаботились о том, чтобы мы могли создавать цепочку действий, используя этот класс.
Action

#### Левый клик мышью

click()

```java

```

click(WebElement onElement)

```java

```

#### Левый клик мышью c удержанием

clickAndHold()

```java

```

clickAndHold(WebElement onElement)

```java

```

#### Правый клик мышью

contextClick()

```java

```

contextClick(WebElement onElement)

```java

```

Пример работы с контекстным меню

Actions builder = new Actions(driver);
builder.contextClick(webElement).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.ARROW_DOWN).sendKeys(Keys.RETURN).build().perform();

#### Двойной клик мышью

```java
WebElement message = driver.findElement(By.id("message"));
Actions builder = new Actions(driver);
builder.doubleClick(message).build().perform();
```

#### Перетаскивание объекта

```java
WebElement source = driver.findElement(By.id("draggable"));
WebElement target = driver.findElement(By.id("droppable"));
Actions builder = new Actions(driver);
builder.dragAndDrop(source, target).perform();
```

dragAndDropBy(WebElement source, int xOffset, int yOffset)

```java

```

#### Нажатие клавиши клавиатуры

keyDown(Keys theKey)

```java

```

keyDown(WebElement element, Keys key)

```java

```

#### Отпускание клавиши

keyUp(Keys theKey)

```java

```

keyUp(WebElement element, Keys key)

```java

```

#### Смещение мыши

moveByOffset(int xOffset, int yOffset)

```java

```

#### Перемещение мыши на элемент

moveToElement(WebElement toElement)

```java

```

moveToElement(WebElement toElement, int xOffset, int yOffset)

```java

```

#### Отпускание мыши

release()

```java

```

release(WebElement onElement)

```java

```

//Вариант:
sendKeys(Keys.NULL)
Набор текста на клавиатуре:
sendKeys(java.lang.CharSequence... keysToSend)
sendKeys(WebElement element, java.lang.CharSequence... keysToSend)

#### Построение цепочки действий

build()

```java

```

#### Выполнение построенной цепочки действий

perform()

```java

```

***

## 3. Исключения

### StaleElementReferenceException

```java

```

### NoSuchElementException

```java

```

### IllegalArgumentException

```java

```

### InvalidCoordinatesException

```java

```

### MoveTargetOutOfBoundsException

```java

```

***

## 4. Веб элементы

### 4.1. Текстбоксы


```java

```

### 4.2. Кнопки

```java

```

### 4.3. Чекбоксы

```java

```

### 4.4. Радиобаттоны

```java

```

### 4.5. Выпадающие списки

```java

```

Select select = new Select(<WebElement object>);
selectByVisibleText()
selectByIndex()
selectByValue()

deselectByVisibleText()
deselectByIndex()
deselectByValue()
deselectAll()

getOptions()
getAllSelectedOptions()
getFirstSelectedOption()

### 4.6. Таблицы

```java

```

***

Практика [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.%20Практика.md)