Java_QA / Level 2. Medium - Продвинутые темы / Урок 03. Подходы в разработке автотестов

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.%20Практика.md)

***

Любой современный софт, включая веб-ориентированные приложения, тестируется на наличие ошибок. 
Скорость идентификации этих ошибок зависит не только от инструментов, 
количества тестировщиков и их опыта, но и от выбранного подхода. Об этом и поговорим.

# Подходы в разработке ПО

## Разработка через тестирование (Test Driven Development (TDD))

***Разработка через тестирование (Test Driven Development (TDD))*** - подход в разработке ПО, 
основанный на преобразовании требований к программному обеспечению в тестовые примеры до того, 
как программное обеспечение будет полностью разработано, и отслеживание всей разработки программного 
обеспечения путем многократного тестирования программного обеспечения на всех тестовых примерах.

### Описание

**Разработка через тестирование (Test Driven Development (TDD))** основывается на повторении коротких циклов разработки: 

* изначально пишется тест, покрывающий желаемое изменение
  То есть в первую очередь пишется тест, проверяющий корректность работы ещё ненаписанного кода.
  Тест, само собой, не проходит.
* затем пишется программный код, который реализует желаемое поведение системы и позволит пройти написанный тест
  Далее программист пишет код, где выполняются действия, необходимые для прохождения теста.
* затем проводится рефакторинг написанного кода с постоянной проверкой прохождения тестов
  Когда тест будет успешно пройден, возможна доработка имеющегося кода.

**Разработка через тестирование (Test Driven Development (TDD))** предполагает организацию автоматического тестирования 
посредством написания модульных, функциональных и интеграционных тестов, определяющих требования к коду перед написанием кода.
 
>TDD считается одной из форм правильного метода построения приложения. 
Философия разработки на основе тестов заключается в том, что ваши тесты являются спецификацией того, как ваша программа должна вести себя. 
Если вы рассматриваете свой набор тестов как обязательную часть процесса сборки, если ваши тесты не проходят, программа не собирается, потому что она неверна. 
Конечно, ограничение заключается в том, что правильность вашей программы определена только как полнота ваших тестов. 
Тем не менее, исследования показали, что разработка, основанная на тестировании, может привести к снижению ошибок на 40-80% в производстве.

Эта методология позволяет добиться создания пригодного для автоматического тестирования приложения и очень хорошего покрытия кода тестами, 
так как ТЗ переводится на язык автоматических тестов, то есть всё, что программа должна делать, проверяется. 
Также TDD часто упрощает программную реализацию: исключается избыточность реализации — если компонент проходит тест, то он считается готовым.

Разработка через тестирование — это больше, чем просто проверка корректности, так как она оказывает влияние и на дизайн программы.
Если вы изначально сфокусированы на тестах, вам проще представить, какая именно функциональность нужна пользователю.
В результате разработчик продумает детали интерфейса до его реализации. Это, в свою очередь, сократит время на разработку и отладку.

Кроме того, разработка через TDD сосредотачивается на тестировании отдельно взятых модулей, при этом используются заглушки (mock-объекты) для представления внешнего мира.

### Плюсы 



### Минусы



## Разработка через поведении (Behaviour Driven Development (BDD))

***Разработка через поведении (Behaviour Driven Development (BDD))*** - это разработка, основанная на поведении. 
По сути, BDD является разновидностью (расширением) TDD с той лишь разницей, что BDD-подход ориентирован на поведение сущности, 
которую вы тестируете (в TDD основной фокус идёт непосредственно на сам код). 
Суть BDD заключается в описании системы архитектуры приложения в терминах, понятных неспециалисту. 
Это даёт возможность ускорить процесс получения обратной связи, убрав традиционные барьеры. 
То есть описание пользовательских сценариев происходит на естественном языке — грубо говоря, на языке бизнеса.

BDD предполагает описание тестировщиком или аналитиком пользовательских сценариев на естественном языке — если можно так выразиться, на языке бизнеса.

>BDD — behaviour-driven development — это разработка, основанная на описании поведения. 
Определенный человек(или люди) пишет описания вида "я как пользователь хочу когда нажали кнопку пуск тогда показывалось меню как на картинке" (там есть специально выделенные ключевые слова). 
Программисты давно написали специальные тулы, которые подобные описания переводят в тесты (иногда совсем прозрачно для программиста). А дальше классическая разработка с тестами.

### Описание

Если записывать названия тестов в виде предложений и при записи имен методов использовать лексику бизнес-домена, созданная документация становится понятна заказчикам, аналитикам и тестировщикам.

Тексты сценариев записываются в определенной форме.


Имея (прим. given — данное) какой-то контекст,

Когда (прим. when) происходит событие,

Тогда (прим. then) проверить результат.
Может получиться что-то подобное:




Или другой пример на русском:


+Сценарий 1: На счету есть деньги+

Имея счет с деньгами

И валидную карточку

И банкомат с наличными

Когда клиент запрашивает наличные

Тогда убедиться, что со счета было списание

И убедиться, что наличные выданы

И убедиться, что карточка возвращена
BDD подход совместно с инженерными практиками позволил нам отказаться от legacy-документации, 
содержащей неактуальную информацию, и получать новую документацию налету, хранить ее вместе с проектом, что приблизило аналитиков и тестировщиков к коду.


BDD — скорее, процесс, целью которого является удешевление реализации новых фич. 
Еще на старте разработки мы получаем важные артефакты. Например, понятную для поддержки документацию. 
Эта документация дает возможность всем заинтересованным лицам сформировать свое представление о продукте и сценариях пользовательского поведения, 
которые должны быть реализованы в ходе итераций разработки. С BDD-подходом мы также снижаем порог входа в проект новых участников.


### Плюсы

Тесты читаемые для не программистов.
Их легко изменять. Они часто пишутся почти на чистом английском.
Их может писать product owner или другие заинтересованные лица.
Результаты выполнения тестов более "человечные".
Тесты не зависят от целевого языка программирования. Миграция на другой язык сильно упрощается.

### Минусы

Но у данного подхода есть и недостатки — это долго и дорого. BDD неудобен хотя бы тем, что требует привлечения специалистов тестирования уже на этапе проработки требований, а это удлиняет цикл разработки.

Выходом из этой ситуации может оказаться выбор подходящего BDD фреймворка и правильно выстроенных процессов разработки.

# Подходы в разработке тестов

## Тестирование, управляемое данными (Data Driven Testing (DDT))

***Тестирование, управляемое данными (Data Driven Testing (DDT))*** - подходе тестовые данные хранятся отдельно от тест-кейсов, 
допустим, в файле либо в базе данных. Такое разделение логически упрощает тесты.

Data-Driven Testing используется в тех проектах, где нужно выполнить тестирование отдельных приложений в нескольких средах с большими наборами данных и стабильными test cases.

Обычно при DDT выполняются следующие операции:
— извлечение части тестовых данных из хранилища;
— ввод данных в форму приложения;
— проверка результатов;
— продолжение тестирования со следующим набором входных данных.

Чтобы проверка приложения была успешна, потребуются разные комбинации данных.

### Описание

### Плюсы

### Минусы

## Тестирование, управляемое ключевыми словами (Keyword Driven Testing (KDT))

***Тестирование, управляемое ключевыми словами (Keyword Driven Testing (KDT))*** - тестах, управляемых ключевыми словами

Данный подход предполагает использование ключевых слов, описывающих набор действий, нужных для выполнения конкретного шага тестового сценария.

При таком подходе в первую очередь определяется набор ключевых слов, а только после этого ассоциируется функция либо действие, связанное с данным ключевым словом. Например, каждые шаги теста, такие как щелчок мышью, нажатие клавиши, открытие либо закрытие браузера описываются определёнными ключевыми словами («открыть» — openbrowser, «нажать» — click и т. п.).

При KDT-подходе вы можете создавать простые функциональные тесты на самых ранних этапах разработки и тестировать приложение по частям.

Этапы разработки KDT-тестов:
1. Определяем ключевые слова.
2. Реализуем ключевые слова как исполняемые файлы.
3. Создаём тест-кейсы.
4. Создаём скрипты.
5. Выполняем автоматизированные сценарии.

Плюсы подхода:
1) функциональные тестировщики могут планировать автоматизацию тестирования до того, как приложение будет готово;
2) тесты можно разработать без знаний программирования;
3) подход не зависит от выбранного языка программирования.

### Суть

### Плюсы

### Минусы

***

Практика [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.%20Практика.md)